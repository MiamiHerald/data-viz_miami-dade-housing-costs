!function(){"use strict"
function e(){setDefaultMap()}$(".leaflet-bottom.leaflet-left").append("<div class='source'>Sources: Zillow, Florida Department of Education and ESRI</div>"),$(".income-box").keyup(function(e){var o=$(this).val().replace(/,/gi,""),c=o.split(/(?=(?:\d{3})+$)/).join(",")
e.which>=37&&e.which<=40&&e.preventDefault(),$(this).val(c)}),$("#check-button-house").on("change",".house:checkbox",function(e){var o=($(this).attr("checked"),$(".house:checkbox")),c=$(".condo:checkbox"),t=o.is(":checked"),l=c.is(":checked")
buildDefaultHouse(),$(".condo:checkbox").attr("checked",!1),l===!1&&t===!1?($("#house-price").css({"float":"left",width:"50%","border-right":"1px dashed #ccc"}),$("#condo-price").css("display","block"),flagSelectionError(),buildDefaultLayer()):($("#house-price").css({"float":"none",border:"none",width:"100%",display:"block"}),removeError(),$("#condo-price").css("display","none"))}),$("#check-button-condo").on("change",".condo:checkbox",function(e){var o=($(this).attr("checked"),$(".house:checkbox")),c=$(".condo:checkbox"),t=o.is(":checked"),l=c.is(":checked")
buildDefaultCondo(),$(".house:checkbox").attr("checked",!1),l===!1&&t===!1?($("#condo-price").css({"float":"right",border:"none",width:"50%"}),$("#house-price").css("display","block"),flagSelectionError(),buildDefaultLayer()):($("#condo-price").css({"float":"none",border:"none",width:"100%",display:"block"}),removeError(),$("#house-price").css("display","none"))}),$(".income-box").focus(function(){$(this).val(""),$(".income-button").removeAttr("disabled"),$(".section:first-of-type").after("<br class='stop-scroll'>")}),$("#check-button-income").on("change",".income:checkbox",function(e){$(".income-box").attr("placeholder","Enter income"),$(".savings:checkbox").attr("checked",!1),$(".income-only").show()}),$("#check-button-savings").on("change",".savings:checkbox",function(e){$(".income-box").attr("placeholder","Enter price"),$(".income:checkbox").attr("checked",!1),$(".income-only").hide()}),$("#interface-container").on("click touchstart",".price-select",function(e){$(".crime-select").removeClass("selected-interface"),$(".school-select").removeClass("selected-interface"),$(".percent-select").removeClass("selected-interface"),$(this).addClass("selected-interface")
var o="price",c=$(".income-box").val(),t=$(".house:checkbox"),l=$(".condo:checkbox"),i=t.is(":checked"),s=l.is(":checked"),a=""===c
i===!0&&s===!1&&a===!1?(buildHouseMap(),buildKey(o)):i===!0&&s===!1&&a===!0?(buildDefaultHouse(),buildKey(o)):i===!1&&s===!0&&a===!1?(buildCondoMap(),buildKey(o)):i===!1&&s===!0&&a===!0?(buildDefaultCondo(),buildKey(o)):(buildDefaultHouse(),buildKey(o))}),$("#interface-container").on("click touchstart",".percent-select",function(e){$(".crime-select").removeClass("selected-interface"),$(".school-select").removeClass("selected-interface"),$(".price-select").removeClass("selected-interface"),$(this).addClass("selected-interface")
var o="percent",c=$(".income-box").val(),t=$(".house:checkbox"),l=$(".condo:checkbox"),i=t.is(":checked"),s=l.is(":checked"),a=""===c
i===!0&&s===!1&&a===!0?(buildDefaultPercentHouse(),buildKey(o)):i===!0&&s===!1&&a===!1?(buildHousePercentMap(),buildKey(o)):i===!1&&s===!0&&a===!0?(buildDefaultPercentCondo(),buildKey(o)):i===!1&&s===!0&&a===!1?(buildCondoPercentMap(),buildKey(o)):(buildDefaultPercentHouse(),buildKey(o))}),$("#interface-container").on("click touchstart",".crime-select",function(e){$(".school-select").removeClass("selected-interface"),$(".price-select").removeClass("selected-interface"),$(".percent-select").removeClass("selected-interface"),$(this).addClass("selected-interface")
var o="crime",c=$(".income-box").val(),t=$(".house:checkbox"),l=$(".condo:checkbox"),i=t.is(":checked"),s=l.is(":checked"),a=""===c,n=($("#school-list"),$(".crime-rate"))
n.show(),i===!0&&s===!1&&a===!1?(buildCrimeMap()):i===!1&&s===!0&&a===!1?(buildCrimeMap()):(buildKey(o),buildDefaultCrime())}),$("#interface-container").on("click touchstart",".school-select",function(e){$(".price-select").removeClass("selected-interface"),$(".percent-select").removeClass("selected-interface"),$(".crime-select").removeClass("selected-interface"),$(this).addClass("selected-interface")
var o="school",c=$(".income-box").val(),t=$(".house:checkbox"),l=$(".condo:checkbox"),i=t.is(":checked"),s=l.is(":checked"),a=""===c,n=$("#school-list")
$(".crime-rate")
n.show(),i===!0&&s===!1&&a===!1?(buildSchoolMap(),buildKey(o)):i===!1&&s===!0&&a===!1?(buildSchoolMap(),buildKey(o)):(buildKey(o),buildDefaultSchool())}),$("#input-container").on("click touchstart",".income-button",function(){$(".map-interface").slideDown("400")
var e=$(".income-box").val()
income=getIncome(e),$houseLayer=L.geoJson($zipData,{onEachFeature:onEachFeature,style:houseStyle}),$condoLayer=L.geoJson($zipData,{onEachFeature:onEachFeature,style:condoStyle}),$percentHouseLayer=L.geoJson($zipData,{onEachFeature:onEachFeature,style:housePercentStyle}),$percentCondoLayer=L.geoJson($zipData,{onEachFeature:onEachFeature,style:condoPercentStyle}),$crimeLayer=L.geoJson($zipData,{onEachFeature:onEachFeature,style:crimeStyle}),$schoolLayer=L.geoJson($zipData,{onEachFeature:onEachFeature,style:schoolStyle}),checkInput(income)}),$(".reset-button-holder").on("click touchstart",".reset",function(){var e=$(".house:checkbox"),o=$(".condo:checkbox")
$(".income-box").val(""),$(".income-button").removeAttr("disabled"),o.attr("disabled",!1),e.attr("disabled",!1),t===!0||l===!0?clearDefaultLayers():clearAllLayers(),$("#school-list").hide()
var c=$(".housing-option option[value='default']")
c.removeAttr("disabled"),$("#condo-price").css({"float":"right",border:"none",width:"50%",display:"block"}),$("#house-price").css({"float":"left",width:"50%","border-right":"1px dashed #ccc",display:"block"}),$(".income-box").attr("placeholder","")
var t=e.is(":checked"),l=o.is(":checked")
hideExplainer(),removeError(),buildDefaultHouse()}),$(document).ready(function(){e()})}()
