<% extends "templates/base.html" %>

<% block content %>

<div ng-app="housingApp">
	<div ng-controller="HousingFormController">
		<div class="map-info-container" id="map-info">
			<div class="headline">What will your money buy?</div>
			<div class="byline">
				<span class="name">By <span class="upper"><a href="mailto:calcantara@miamiherald.com">{$ COPY.reporter_name $}</a></span>, <span class="upper"><a href="mailto:nnehamas@miamiherald.com">{$ COPY.reporter_name_two $}</a></span> and <span class="upper"><a href="mailto:cwilliams@miamiherald.com">{$ COPY.reporter_name_three $}</a></span></span>
				<span class="date">Published: {$ COPY.date $}</span>
			</div>

			<div class="button-container" id="button-container">

				<p class="readout">Skyrocketing real estate prices make finding an affordable home difficult for many South Floridians. This tool shows where you can afford a home and how school quality, safety and annual value growth compare. Here's how to use it:</p>

				<div class="error">
					<div class="alert alert-danger" role="alert">
						<i class="fa fa-info-circle"></i>
						<span class="sr-only">Error:</span> Enter a valid number
					</div>
				</div>

				<div class="tool-list-container readout">
					<div class="col-md-8 col-md-offset-2">
						<span class='item'>
							<div class="standfirst">
								I'd like to buy a...
							</div>
							<div class="input-group">
								<span class="check-button" id="check-button-house">
									<label>
										<input class="house" type="checkbox" ng-model="houseTypeChecked" value="1"></input>
										<span><i class="fa fa-home"></i> Single-family home</span>
									</label>
								</span>
								<span class="check-button" id="check-button-condo">
									<label>
										<input class="condo" type="checkbox" ng-model="condoTypeChecked" value="1"></input>
										<span><i class="fa fa-building"></i> Condo or townhouse</span>
									</label>
								</span>
							</div>
						</span>
					</div>

					<div class="col-md-8 col-md-offset-2">
						<span ng-show="houseTypeChecked || condoTypeChecked" class="item ng-hide">
							<div class="standfirst">
								Show ZIP codes I can afford based on...
							</div>
							<div class="input-group">
								<span class="check-button" id="check-button-income">
									<label>
										<input class="income" type="checkbox" ng-model="incomeTypeChecked" value="1"></input>
										<span><i class="fa fa-briefcase"></i> My income</span>
									</label>
								</span>
								<span class="check-button" id="check-button-savings">
									<label>
										<input class="savings" type="checkbox" ng-model="incomeTypeChecked" value="1"></input>
										<span><i class="fa fa-money"></i> Max price</span>
									</label>
								</span>
							</div>
						</span>
					</div>

					<div class="col-md-8 col-md-offset-2">
						<div class="input-container ng-hide" id="input-container" ng-show="incomeTypeChecked">
							<div class="income-standfirst"></div>
							<input name="income-box" class="income-box" type="text" placeholder="$"></input>
							<span class="input-group-btn">
								<button class="income-button income-btn btn btn-default btn-lg" type="button" value="Execute"><i class="fa fa-search"></i> Show me the ZIPs!</button>
							</span>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div ng-hide="mapIt">
			<div class="col-md-8 col-md-offset-2 results-outer">
				<div class="explainer">
					<p class="income-only">Experts suggest you pay, at most, three-and-a-half times your annual income on a home. A <span class="income-ammount"></span> income would make your maximum price <span class="income-spend"></span>.</p>
					<p class="first-graf">There are <span class="zip-count"></span> <span>ZIP codes</span> in Miami-Dade and Broward counties with <span class="housing"></span> you can afford.</p>
					<button class="btn btn-default btn-lg" type="button" ng-click="mapIt = true"><i class="fa fa-map-signs"></i> Map It!</button>
					<button class="reset btn btn-default btn-lg" type="button" value="Reset" ng-click="mapIt = false"><i class="fa fa-pencil"></i> Edit search</button>
				</div>
			</div>
		</div>

		<div id="map-outer" ng-show="mapIt">
			<div class="col-xs-12 col-md-6 hover-box-mobile-container">
				<div id="interface-container-mobile">
					<div class="map-interface">
						<ul>
							<li class="price-select interface-selector interface-selector--green selected-interface">Value</li>
							<li class="percent-select interface-selector interface-selector--blue">Growth</li>
							<li class="crime-select interface-selector interface-selector--red">Crime</li>
							<li class="school-select interface-selector interface-selector--yellow">Schools</li>
						</ul>

						<div class="key-holder">
							<div class="key"></div>
							<div class="clearfix"></div>
							<div class="labels">
								<h6 class="label label-left"></h6>
								<h6 class="label b-grade"></h6>
								<h6 class="label label-middle"></h6>
								<h6 class="label d-grade"></h6>
								<h6 class="label label-right"></h6>
							</div>
						</div>

						<div class="clearfix"></div>

						<p class="readout">
							<span class="hover-instructions">Click on a ZIP code for more information.</span>
						</p>
					</div>
				</div>
				<div id="map-container"></div>
				<div id="sources">
					<p>Sources: {$ COPY.sources $}</p>
				</div>
				<div class="map-button__outer">
					<div class="map-button reset" value="Reset" ng-click="mapIt = false"><i class="fa fa-pencil" aria-hidden="true"></i> <span>Edit Search</span></div>
					<div class="map-button"><i class="fa fa-undo" aria-hidden="true"></i> <span>Show all zips</span></div>
				</div>
				<div class="hover-box-container" id="hover-box-mobile">
					<div class="zip-code-heading">
						<span class="zip-code"></span> <span class="parentheses">(<span class="city"></span>)</span>
						<span class="crime-rate"></span>
						<span class="crime-level"></span>
					</div>

					<div class="neighborhood-heading">
						<div class="sub-info">
							<span class='neighborhoods'>Neighborhoods include:
								<span class="hoods"></span></span>
						</div>
					</div>

					<div id="house-price" ng-hide="condoTypeChecked" ng-show="houseTypeChecked">
						<div class="housing-heading">
							Median value <span class="current-month"></span>
						</div>
						<div class="housing-table">
							<div class="housing-item housing-item--year col-xs-4">
								<div class="housing-year housing-year--prev"></div>

								<div class="housing-number house-price-fourteen"></div>
							</div>
							<div class="housing-item housing-item--year col-xs-4">
								<div class="housing-year housing-year--curr"></div>

								<div class="housing-number house-price-fifteen"></div>
							</div>
							<div class="housing-item housing-item--growth col-xs-4">
								<div class="housing-growth">
									Growth
								</div>
								<div class="housing-number house-percent">

								</div>
							</div>
						</div>
					</div>

					<div id="condo-price" ng-hide="houseTypeChecked" ng-show="condoTypeChecked">
						<div class="housing-heading">
							Median value <span>(December)</span>
						</div>
						<div class="housing-table">
							<div class="housing-item housing-item--year col-xs-4">
								<div class="housing-year housing-year--prev"></div>

								<div class="housing-number condo-price-fourteen"></div>
							</div>
							<div class="housing-item housing-item--year col-xs-4">
								<div class="housing-year housing-year--curr"></div>

								<div class="housing-number condo-price-fifteen"></div>
							</div>
							<div class="housing-item housing-item--growth col-xs-4">
								<div class="housing-growth">
									Growth
								</div>
								<div class="housing-number condo-percent"></div>
							</div>
						</div>
					</div>

					<div class="school-list">
						<table class='school-table'>
							<tr class='school-head'>
								<th class='name'>School grade</th>
								<th>2014-15</th>
								<th>2013-14</th>
								<th>2012-13</th>
							</tr>
						</table>
						<h4 class="no-school">No school data</h4>
					</div>
				</div><!-- END HOVERBOX CONTAINER -->
			</div><!-- END MOBILE HOVERBOX -->
			<div class="col-xs-12 col-md-6 hover-box-desktop-container">
				<div id="interface-container">
					<div class="map-interface">
						<ul>
							<li class="price-select interface-selector interface-selector--green selected-interface">Value</li>
							<li class="percent-select interface-selector interface-selector--blue">Growth</li>
							<li class="crime-select interface-selector interface-selector--red">Crime</li>
							<li class="school-select interface-selector interface-selector--yellow">Schools</li>
						</ul>

						<div class="key-holder">
							<div class="key"></div>
							<div class="clearfix"></div>
							<div class="labels">
								<h6 class="label label-left"></h6>
								<h6 class="label b-grade"></h6>
								<h6 class="label label-middle"></h6>
								<h6 class="label d-grade"></h6>
								<h6 class="label label-right"></h6>
							</div>
						</div>

						<div class="clearfix"></div>

						<p class="readout">
							<span class="hover-instructions">Hover over a ZIP code for more information.</span>
						</p>
					</div>
				</div>
				<div class="hover-box-container" id="hover-box">
					<div class="zip-code-heading">
						<span class="zip-code"></span> <span class="parentheses">(<span class="city"></span>)</span>
						<span class="crime-rate"></span>
						<span class="crime-level"></span>
					</div>

					<div class="neighborhood-heading">
						<div class="sub-info">
							<span class='neighborhoods'>Neighborhoods include:
								<span class="hoods"></span></span>
						</div>
					</div>

					<div id="house-price" ng-hide="condoTypeChecked" ng-show="houseTypeChecked">
						<div class="housing-heading">
							Median value <span>(December)</span>
						</div>
						<div class="housing-table">
							<div class="housing-item housing-item--year col-xs-4">
								<div class="housing-year housing-year--prev"></div>

								<div class="housing-number house-price-fourteen"></div>
							</div>
							<div class="housing-item housing-item--year col-xs-4">
								<div class="housing-year housing-year--curr"></div>

								<div class="housing-number house-price-fifteen"></div>
							</div>
							<div class="housing-item housing-item--growth col-xs-4">
								<div class="housing-growth">
									Growth
								</div>
								<div class="housing-number house-percent">

								</div>
							</div>
						</div>
					</div>

					<div id="condo-price" ng-hide="houseTypeChecked" ng-show="condoTypeChecked">
						<div class="housing-heading">
							Median value <span class="current-month"></span>
						</div>
						<div class="housing-table">
							<div class="housing-item housing-item--year col-xs-4">
								<div class="housing-year housing-year--prev"></div>

								<div class="housing-number condo-price-fourteen"></div>
							</div>
							<div class="housing-item housing-item--year col-xs-4">
								<div class="housing-year housing-year--curr"></div>

								<div class="housing-number condo-price-fifteen"></div>
							</div>
							<div class="housing-item housing-item--growth col-xs-4">
								<div class="housing-growth">
									Growth
								</div>
								<div class="housing-number condo-percent"></div>
							</div>
						</div>
					</div>

					<div class="school-list">
						<table class='school-table'>
							<tr class='school-head'>
								<th class='name'>School grade</th>
								<th>2014-15</th>
								<th>2013-14</th>
								<th>2012-13</th>
							</tr>
						</table>
						<h4 class="no-school">No school data</h4>
					</div>
				</div><!-- END HOVERBOX CONTAINER -->
			</div><!-- END DESKTOP HOVERBOX -->
		</div>
	</div>
</div><!-- END MAP -->

<% endblock %>
